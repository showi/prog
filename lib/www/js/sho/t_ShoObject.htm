<html>
<head>
<link rel="stylesheet" type="text/css" href="css/ShoWidgetFactory.css"></link>

<!--<script type="text/javascript" src="/lib/php/sho/all.js"></script>-->
<!--<script type="text/javascript" src="/lib/php/sho/t_HtmInclude.php"></script>-->

<script type="text/javascript" src="../tk/prototype.js"></script>
<!--<script type="text/javascript" src="ShoLog.js"></script>-->
<script type="text/javascript" src="ShoGlobal.js"></script>
<script type="text/javascript" src="ShoObject.js"></script>
<script type="text/javascript" src="ShoNode.js"></script>
<script type="text/javascript" src="ShoNodesManager.js"></script>
<script type="text/javascript" src="ShoWidgetTree.js"></script>
<script type="text/javascript" src="ShoWidgetFactory.js"></script>
<script type="text/javascript" src="ShoCreateElement.js"></script>

<script type="text/javascript">

var nodesManager;

function ShoAction_show_popup(domID, src) {
		var popElm = $(domID);
		var srcElm = $(src);
		var srcOffset = srcElm.cumulativeOffset(srcElm); 
		popElm.update(src.innerHTML);
		var dimPop = popElm.getDimensions();
		var dimSrc = srcElm.getDimensions();
		var myDim = new Object();
		myDim.top = srcOffset.top;
		myDim.left = srcOffset.left + dimSrc.width;
		GSHO.log("Dim.");
		popElm.setStyle({
			'top': myDim.top,
			'left': myDim.left,
			'z-index': 1,
		});
		popElm.show();
}
function ShoAction_hide_popup(domID, src) {
		$(domID).hide();
		$(domID).setStyle({
			'z-index': -1,
		});
}

function popWin() {
	var winDoc = window.open("#", "boom", "width=200, height=100, toolbar=no, location=no, menubar=no");
	if (!is_defined(winDoc)) {
		return false;
	}	
	winDoc.document.write("hello");
	return false;
}

function __init() {
	//console.trace();
	__helper_init();
	GSHO.log('On commence Ã  loguer...');
	var Widgets = new Array();
	var i = 0;
	for(i = 0; i < 0; i++) {
		Widgets[i] = new ShoWidget_Main();
		Widgets[i].get('elm').style.visibility = 'visible';
		Widgets[i].setTitle(".: Main widget " + i + ":.");
		Widgets[i].setContent(
		  "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec," 
		+ "ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. Proin porttitor," 
		+ "orci nec nonummy molestie, enim est eleifend mi, non fermentum diam nisl sit amet erat. Duis semper. Duis arcu massa, scelerisque vitae," 
		+ "consequat in, pretium a, enim. Pellentesque congue. Ut in risus volutpat libero pharetra tempor. Cras vestibulum bibendum augue." 
		+ "Praesent egestas leo in pede. Praesent blandit odio eu enim. Pellentesque sed dui ut augue blandit sodales."
		);
		Widgets[i].setStatus(Widgets[i].get('elm').id + ' is ready!');
	}
	__callback_queue_event(250);
	nodesManager = new ShoNodesManager;
	
	var elm = undefined;
		
	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreeMusic1', node_id: 3});
	$('ShoID_TreeMusic1').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_TreeMusic1");
	
	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreeMusic2', node_id: 3});
	$('ShoID_TreeMusic2').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_TreeMusic2");
	
	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_DeepTest1', node_id:74});
	$('ShoID_DeepTest1').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_DeepTest1");
	
//	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreeMusic3', node_id: 3});
//	$('ShoID_TreeMusic3').appendChild(elm);	
//	elm.sho_elm_get_label().update("ShoID_TreeMusic3");
	
	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreePeople1', node_id: 17});
	$('ShoID_TreePeople1').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_TreePeople1");

	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreePeople2', node_id: 17});
	$('ShoID_TreePeople2').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_TreePeople2");
	
	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_DeepTest2', node_id:74});
	$('ShoID_DeepTest2').appendChild(elm);	
	elm.sho_elm_get_label().update("ShoID_DeepTest2");
	
//	elm = gsho_elementCreate('tree_node', { dom_id: 'ShoID_TreePeople3', node_id: 17});
//	$('ShoID_TreePeople3').appendChild(elm);	
//	elm.sho_elm_get_label().update("ShoID_TreePeople3");
}
</script>



</head>

<body onload="__init();">
<!--<div id="popup" style="position: absolute;top:0px; left:0px; z-index: 2; visibility: visible; width: 20em;  background-color: black; border-style: solid; color: white"></div>-->
<!--<div><a href="#" onmouseover="ShoAction_show_popup('popup'	, this);" onmouseout="ShoAction_hide_popup('popup');">Popup A</a></div>-->
<!--<div><a href="#" onmouseover="ShoAction_show_popup('popup', this);" onmouseout="ShoAction_hide_popup('popup');">Popup B</a></div>-->

<style type="text/css">
	.baseLayer {
	 	position: absolute;
	 	width:200; 
	 	height: 200; 
	 	top: 20; 
	 	left: 400; 
	 	background-color: red; 
	 	margin: 0px 0px 0px 0px; 
	 	padding: 0px 0px 0px 0px;
	 	border:0px solid black;
	 	border-width: 0px;

	 }
	 .baseLayer_table {
	 	width: 100%;
	 	height: 100%;
	 	margin: 0px 0px 0px 0px; 
	 	padding: 0px 0px 0px 0px
		background-color: white;
	    border-width:1px;
  		border-style:thin;
  		border-color:#ff9900;
  		border-collapse:collapse;
		
	 }
	 .baseLayer_table.collapse {
	    border-width:1px;
  		border-style:solid;
  		border-color:#ff9900;
  		border-collapse:collapse;
	 }
	 td {
		 border:0px solid black;
		 margin: 0px 0px 0px 0px;
		 padding: 0px 0px 0px 0px;
	 }
	 tr {
		 border:0px solid black;
		 margin: 0px 0px 0px 0px;
		 padding: 0px 0px 0px 0px;
	 }
	 .baseLayer_table_upLeft {
	 	width: 1px;
	 	height: 1px;
	 	background-color: blue;
	 	border:0px solid black;
	 }
	 .baseLayer_table_upMiddle {
	 	
	 	height: 1px;
	 	background-color: blue;
	 }
	 .baseLayer_table_upRight {
	 	width: 1px;
	 	height: 1px;
	 	background-color: blue;
	 }
	 .baseLayer_table_middleLeft {
	 	width: 1px;
	 	
	 	background-color: blue;
	 }
	 .baseLayer_table_middleMiddle {

	 	background-color: white;
	 }
	 .baseLayer_table_middleRight {
	 	width: 1px;

	 	background-color: blue;
	 }
	 .baseLayer_table_bottomLeft {
	 	width: 1px;
	 	height: 1px;
	 	background-color: blue;
	 }
	 .baseLayer_table_bottomMiddle {

	 	height: 1px;
	 	background-color: blue;
	 }
	 .baseLayer_table_bottomRight {
	 	width: 1px;
	 	height: 1px;
	 	background-color: blue;
	 }

</style>

<div style="visibility: hidden;" id="baseLayer" class="baseLayer">
	<table class="baseLayer_table">
	<caption>
		<div class="widgetCaption">
			<div class="widgetCaptionIcon">-</div>
			<div class="widgetCaptionTitle">Widget</div>
			<div class="widgetCaptionTools">-_X</div>
		</div>
	</caption>
		<tr>
			<td class="baseLayer_table_upLeft"><!-- up left --></td>
			<td class="baseLayer_table_upMiddle"><!-- up middle --></td>
			<td class="baseLayer_table_upRight"><!-- up right --></td>
		</tr>
		<tr>
			<td class="baseLayer_table_middleLeft"><!-- middle left --></td>
			<td class="baseLayer_table_middleMiddle"><!-- middle middle --></td>
			<td class="baseLayer_table_middleRight"><!-- middle right --></td>
		</tr>
		<tr>
			<td class="baseLayer_table_bottomLeft"><!-- bottom left --></td>
			<td class="baseLayer_table_bottomMiddle"><!-- bottom middle --></td>
			<td class="baseLayer_table_bottomRight"><!-- bottom right --></td>
		</tr>
	</table>
</div>


<div id="Main">
<table style="width: 100%; height: 100%;">
<!--<tr>
	<td colspan="2">
	<a  href="#" onclick="popWin(); return false;">google</a>
	</td>
</tr>
-->
	<tr style="vertical-align: top">
		<td >
			<div id="ShoID_TreeMusic1"></div>
			<div id="ShoID_TreePeople1"></div>
			<div id="ShoID_DeepTest1"></div>
		</td>
		<td>
			<div id="ShoID_TreeMusic2"></div>
			<div id="ShoID_TreePeople2"></div>
			<div id="ShoID_DeepTest2"></div>			
		</td>
	</tr>
</table>
</div>


<!--
<div id="widgetMain_" class="widgetBaseClass" onmouseup="winStop('%WIDGET_ID%')">
<table border="0" cellpadding="0" cellspacing="0" width="100%" >
	<tbody>
		<tr>
			<td class="widgetCorner_upLeft" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: right; vertical-align: up; height: 8px; width: 8px;">
			</td>
			<td class="widgetCorner_up" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: center; vertical-align: up; height: 8px;">
			</td>
			<td class="widgetCorner_upRight" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: left; vertical-align: up; height: 8px; width: 8px;">
			</td>
		</tr>
		<tr>
			<td class="widgetCorner_middleLeft" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: right; vertical-align: middle; width: 8px;">
			</td>
			<td style="vertical-align: top;">
			<table width="100%" style="text-align: left;" border="0" cellpadding="0"
				cellspacing="0">
				<tbody>
					<tr>
						<td style="vertical-align: top;">
						<table width="100%" border="0" cellpadding="0" cellspacing="0" height="16" style="border: 1px; border-style:none none dotted none; background-color: black; color: red ">
							<tbody>
								<tr>
									<td height="16" width="16" style="horizontal-align: left"><img src="img/icon16_16.png"></td>
									<td style="width: 100%; align: middle;" onmousedown="winMove('%WIDGET_ID%')"><span id="ShoWidgetTitleID_">widgetName</span></td>
									<td style="align: right">[_][-]<span onclick="winClose('%WIDGET_ID%');">[X]</span></td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
					<tr>
						<td style="vertical-align: top; background-color: white;"><div><span id="ShoWidgetContentID_" class="widgetContent">content</span></div></td>
					</tr>
					<tr>
						<td style="vertical-align: top; background-color: black; color: white"><span id="ShoWidgetStatusID_" class="widgetStatusBar">content</span></td>
					</tr>
				</tbody>
			</table>
			</td>
			<td class="widgetCorner_middleRight" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: left; vertical-align: middle; width: 8px;">
			</td>
		</tr>
		<tr>
			<td class="widgetCorner_downLeft" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: right; vertical-align: bottom; height: 8px; width: 8px;">
			</td>
			<td class="widgetCorner_down" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: center; vertical-align: bottom; height: 8px;">
			</td>
			<td class="widgetCorner_downRight" onmousedown="winMove('%WIDGET_ID%')"
				style="text-align: left; vertical-align: top; height: 8px; width: 8px;">
			</td>
		</tr>
	</tbody>
</table>
</div>
-->
</body>
</html>

